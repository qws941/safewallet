(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{2133:function(e,l,a){Promise.resolve().then(a.bind(a,5112))},5112:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return b}});var s=a(7573),r=a(7653),n=a(1695),t=a(8368),c=a(189),i=a(5140),o=a(2384),d=a(3212);let u=[{value:d.Category.HAZARD,label:"위험요소",icon:"⚠️"},{value:d.Category.UNSAFE_BEHAVIOR,label:"불안전행동",icon:"\uD83D\uDEA8"},{value:d.Category.INCONVENIENCE,label:"불편사항",icon:"\uD83D\uDEE0️"},{value:d.Category.SUGGESTION,label:"개선제안",icon:"\uD83D\uDCA1"},{value:d.Category.BEST_PRACTICE,label:"우수사례",icon:"⭐"}],x=[{value:d.RiskLevel.HIGH,label:"높음",color:"bg-red-100 border-red-500 text-red-700"},{value:d.RiskLevel.MEDIUM,label:"중간",color:"bg-yellow-100 border-yellow-500 text-yellow-700"},{value:d.RiskLevel.LOW,label:"낮음",color:"bg-green-100 border-green-500 text-green-700"}];function b(){let e=(0,n.useRouter)(),{currentSiteId:l}=(0,t.a)(),a=(0,c.fj)(),[b,h]=(0,r.useState)(null),[j,m]=(0,r.useState)(null),[g,p]=(0,r.useState)(""),[v,N]=(0,r.useState)(""),[y,f]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),D=async s=>{if(s.preventDefault(),!b||!l)return;let r={siteId:l,category:b,riskLevel:j||void 0,content:g,locationFloor:v||void 0,locationZone:y||void 0,visibility:d.Visibility.WORKER_PUBLIC,isAnonymous:C};try{await a.mutateAsync(r),e.replace("/posts")}catch(e){console.error("Failed to create post:",e)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(i.h,{}),(0,s.jsx)("main",{className:"p-4",children:(0,s.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-2",children:(0,s.jsx)(o.ll,{className:"text-base",children:"제보 유형"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:u.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>h(e.value),className:"p-3 rounded-lg border text-center transition-colors ".concat(b===e.value?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,s.jsx)("div",{className:"text-xs",children:e.label})]},e.value))})})]}),(b===d.Category.HAZARD||b===d.Category.UNSAFE_BEHAVIOR)&&(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-2",children:(0,s.jsx)(o.ll,{className:"text-base",children:"위험 수준"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"flex gap-2",children:x.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>m(e.value),className:"flex-1 py-2 px-4 rounded-lg border-2 text-center transition-colors ".concat(j===e.value?e.color:"border-gray-200"),children:e.label},e.value))})})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-2",children:(0,s.jsx)(o.ll,{className:"text-base",children:"위치 (선택)"})}),(0,s.jsxs)(o.aY,{className:"space-y-3",children:[(0,s.jsx)(o.II,{placeholder:"층수 (예: B1, 3층)",value:v,onChange:e=>N(e.target.value)}),(0,s.jsx)(o.II,{placeholder:"구역 (예: A동, 주차장)",value:y,onChange:e=>f(e.target.value)})]})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-2",children:(0,s.jsx)(o.ll,{className:"text-base",children:"상세 내용"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("textarea",{placeholder:"발견한 내용을 자세히 작성해주세요...",value:g,onChange:e=>p(e.target.value),className:"w-full min-h-[120px] p-3 rounded-lg border border-gray-200 resize-none focus:outline-none focus:ring-2 focus:ring-primary",required:!0})})]}),(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{className:"pb-2",children:(0,s.jsx)(o.ll,{className:"text-base",children:"사진 첨부 (선택)"})}),(0,s.jsx)(o.aY,{children:(0,s.jsxs)(o.zx,{type:"button",variant:"outline",className:"w-full h-24",children:[(0,s.jsx)("span",{className:"text-2xl mr-2",children:"\uD83D\uDCF7"}),"사진 촬영/선택"]})})]}),(0,s.jsx)(o.Zb,{children:(0,s.jsx)(o.aY,{className:"py-4",children:(0,s.jsxs)("label",{className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsx)("span",{children:"익명으로 제보하기"}),(0,s.jsx)("input",{type:"checkbox",checked:C,onChange:e=>E(e.target.checked),className:"w-5 h-5 rounded"})]})})}),(0,s.jsx)(o.zx,{type:"submit",className:"w-full h-12 text-lg",disabled:!b||!g||a.isPending,children:a.isPending?"제보 중...":"제보하기"})]})})]})}}},function(e){e.O(0,[341,953,485,51,293,528,744],function(){return e(e.s=2133)}),_N_E=e.O()}]);