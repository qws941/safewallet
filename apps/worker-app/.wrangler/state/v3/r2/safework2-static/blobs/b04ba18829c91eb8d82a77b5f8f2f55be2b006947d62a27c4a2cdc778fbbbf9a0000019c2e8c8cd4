(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{3605:function(e,t,s){Promise.resolve().then(s.bind(s,9431))},9431:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(7573),a=s(8368),n=s(189),i=s(5140),l=s(3857),c=s(5166),o=s(4284),d=s(2384),u=s(8146),h=s(1988),m=s(5118),x=s(7066);let f=(0,s(2389).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var j=s(698);function v(){var e,t,s;let{currentSiteId:v}=(0,a.a)(),{data:N,isLoading:p}=(0,n.kx)(v||""),{data:g,isLoading:w}=(0,n.xt)(v||""),{data:b,isLoading:y}=(0,h.a)({queryKey:["attendance","today",v],queryFn:async()=>(await (0,m.S)("/attendance/today?siteId=".concat(v))).data,enabled:!!v}),k=(null==N?void 0:null===(e=N.data)||void 0===e?void 0:e.slice(0,3))||[],E=(null==g?void 0:null===(t=g.data)||void 0===t?void 0:t.balance)||0;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-nav",children:[(0,r.jsx)(i.h,{}),(0,r.jsxs)("main",{className:"p-4 space-y-4",children:[y?(0,r.jsx)(d.Od,{className:"h-16 w-full"}):(null==b?void 0:b.attended)?(0,r.jsx)(d.Zb,{className:"border-green-200 bg-green-50",children:(0,r.jsxs)(d.aY,{className:"p-4 flex items-center gap-3",children:[(0,r.jsx)(x.Z,{className:"h-8 w-8 text-green-500 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-green-700",children:"출근 완료"}),(0,r.jsxs)("p",{className:"text-sm text-green-600",children:[(s=b.checkinAt)?new Date(s).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}):""," 체크인"]})]})]})}):(0,r.jsx)(d.Zb,{className:"border-amber-200 bg-amber-50",children:(0,r.jsxs)(d.aY,{className:"p-4 flex items-center gap-3",children:[(0,r.jsx)(f,{className:"h-8 w-8 text-amber-500 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-amber-700",children:"미출근"}),(0,r.jsx)("p",{className:"text-sm text-amber-600",children:"안면인식으로 출근 체크인 해주세요"})]})]})}),w?(0,r.jsx)(d.Od,{className:"h-28 w-full"}):(0,r.jsx)(c.x,{balance:E}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,r.jsx)(u.default,{href:"/posts/new",children:(0,r.jsx)(d.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,r.jsxs)(d.aY,{className:"p-4 text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDCE2"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"안전제보"})]})})}),(0,r.jsx)(u.default,{href:"/announcements",children:(0,r.jsx)(d.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,r.jsxs)(d.aY,{className:"p-4 text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:"\uD83D\uDCE3"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"공지사항"})]})})}),(0,r.jsx)(u.default,{href:"/votes",children:(0,r.jsx)(d.Zb,{className:"hover:shadow-md transition-shadow cursor-pointer",children:(0,r.jsxs)(d.aY,{className:"p-4 text-center",children:[(0,r.jsx)(j.Z,{className:"h-6 w-6 mx-auto mb-1 text-yellow-500"}),(0,r.jsx)("div",{className:"text-sm font-medium",children:"우수근로자"})]})})})]}),(0,r.jsxs)(d.Zb,{children:[(0,r.jsx)(d.Ol,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(d.ll,{className:"text-base",children:"최근 내 제보"}),(0,r.jsx)(u.default,{href:"/posts",className:"text-sm text-primary",children:"전체보기"})]})}),(0,r.jsx)(d.aY,{children:p?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(d.Od,{className:"h-20 w-full"}),(0,r.jsx)(d.Od,{className:"h-20 w-full"})]}):k.length>0?(0,r.jsx)("div",{children:k.map(e=>(0,r.jsx)(o.y,{post:e},e.id))}):(0,r.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"아직 제보한 내역이 없습니다."})})]})]}),(0,r.jsx)(l.L,{})]})}},3857:function(e,t,s){"use strict";s.d(t,{L:function(){return c}});var r=s(7573),a=s(8146),n=s(1695),i=s(9147);let l=[{href:"/home",label:"홈",icon:function(e){let{className:t}=e;return(0,r.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}},{href:"/posts",label:"제보",icon:function(e){let{className:t}=e;return(0,r.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}},{href:"/posts/new",label:"",icon:function(e){let{className:t}=e;return(0,r.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})},isCenter:!0},{href:"/points",label:"포인트",icon:function(e){let{className:t}=e;return(0,r.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},{href:"/profile",label:"프로필",icon:function(e){let{className:t}=e;return(0,r.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}}];function c(){let e=(0,n.usePathname)();return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 safe-bottom",children:(0,r.jsx)("div",{className:"flex items-center justify-around h-14",children:l.map(t=>{let s=e.startsWith(t.href),n=t.icon;return t.isCenter?(0,r.jsx)(a.default,{href:t.href,className:"flex items-center justify-center w-14 h-14 -mt-5 bg-primary rounded-full shadow-lg",children:(0,r.jsx)(n,{className:"w-6 h-6 text-primary-foreground"})},t.href):(0,r.jsxs)(a.default,{href:t.href,className:(0,i.cn)("flex flex-col items-center justify-center w-16 h-14 text-xs",s?"text-primary":"text-muted-foreground"),children:[(0,r.jsx)(n,{className:"w-5 h-5 mb-1"}),(0,r.jsx)("span",{children:t.label})]},t.href)})})})}},5166:function(e,t,s){"use strict";s.d(t,{x:function(){return n}});var r=s(7573),a=s(2384);function n(e){let{balance:t,recentPoints:s}=e;return(0,r.jsxs)(a.Zb,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:[(0,r.jsx)(a.Ol,{className:"pb-2",children:(0,r.jsx)(a.ll,{className:"text-sm font-medium opacity-90",children:"내 포인트"})}),(0,r.jsxs)(a.aY,{children:[(0,r.jsxs)("div",{className:"text-3xl font-bold",children:[t.toLocaleString("ko-KR")," P"]}),void 0!==s&&s>0&&(0,r.jsxs)("p",{className:"text-sm opacity-75 mt-1",children:["이번 달 +",s.toLocaleString("ko-KR")," P"]})]})]})}},4284:function(e,t,s){"use strict";s.d(t,{y:function(){return u}});var r=s(7573),a=s(8146),n=s(2384),i=s(9147),l=s(3212);let c={[l.Category.HAZARD]:"위험요소",[l.Category.UNSAFE_BEHAVIOR]:"불안전행동",[l.Category.INCONVENIENCE]:"불편사항",[l.Category.SUGGESTION]:"개선제안",[l.Category.BEST_PRACTICE]:"우수사례"},o={[l.ReviewStatus.RECEIVED]:"접수",[l.ReviewStatus.IN_REVIEW]:"검토중",[l.ReviewStatus.NEED_INFO]:"추가정보",[l.ReviewStatus.APPROVED]:"승인",[l.ReviewStatus.REJECTED]:"반려"},d={[l.ReviewStatus.RECEIVED]:"bg-gray-100 text-gray-700",[l.ReviewStatus.IN_REVIEW]:"bg-blue-100 text-blue-700",[l.ReviewStatus.NEED_INFO]:"bg-yellow-100 text-yellow-700",[l.ReviewStatus.APPROVED]:"bg-green-100 text-green-700",[l.ReviewStatus.REJECTED]:"bg-red-100 text-red-700"};function u(e){let{post:t}=e;return(0,r.jsx)(a.default,{href:"/posts/".concat(t.id),children:(0,r.jsx)(n.Zb,{className:"mb-3 hover:shadow-md transition-shadow",children:(0,r.jsx)(n.aY,{className:"p-4",children:(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(n.Ct,{variant:"outline",children:c[t.category]||t.category}),(0,r.jsx)(n.Ct,{className:(0,i.cn)(d[t.reviewStatus]),children:o[t.reviewStatus]||t.reviewStatus}),t.isUrgent&&(0,r.jsx)(n.Ct,{variant:"destructive",children:"긴급"})]}),(0,r.jsx)("p",{className:"text-sm text-foreground line-clamp-2",children:t.content}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[(0,r.jsx)("span",{children:new Date(t.createdAt).toLocaleDateString("ko-KR")}),t.imageCount>0&&(0,r.jsxs)("span",{children:["\uD83D\uDCF7 ",t.imageCount]})]})]})})})})})}},9147:function(e,t,s){"use strict";s.d(t,{cn:function(){return r.cn}});var r=s(2384)},2389:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(7653);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:c?24*Number(l)/Number(a):l,className:n("lucide",o),...h},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:c,...o}=s;return(0,r.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(a(e)),c),...o})});return s.displayName="".concat(e),s}},698:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(2389).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},7066:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(2389).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},function(e){e.O(0,[341,953,485,146,51,293,528,744],function(){return e(e.s=3605)}),_N_E=e.O()}]);