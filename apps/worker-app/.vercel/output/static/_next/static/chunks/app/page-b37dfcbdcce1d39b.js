(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6356:function(e,t,n){Promise.resolve().then(n.bind(n,1403))},1403:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(7573),u=n(7653),i=n(1695),a=n(8368);function s(){let e=(0,i.useRouter)(),{isAuthenticated:t,currentSiteId:n}=(0,a.a)();return(0,u.useEffect)(()=>{t?n?e.replace("/home"):e.replace("/join"):e.replace("/login")},[t,n,e]),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-pulse text-muted-foreground",children:"로딩 중..."})})}},8368:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(8144);function u(){let{user:e,isAuthenticated:t,currentSiteId:n,login:u,logout:i,setCurrentSite:a}=(0,r.t)();return{user:e,isAuthenticated:t,currentSiteId:n,login:u,logout:i,setCurrentSite:a}}},8144:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(8321),u=n(4452);let i=(0,r.U)()((0,u.tJ)(e=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,currentSiteId:null,setUser:t=>e({user:t}),setTokens:(t,n)=>e({accessToken:t,refreshToken:n}),setCurrentSite:t=>e({currentSiteId:t}),login:(t,n,r)=>e({user:t,accessToken:n,refreshToken:r,isAuthenticated:!0}),logout:()=>e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,currentSiteId:null})}),{name:"safetywallet-auth",storage:(0,u.FL)(()=>localStorage),partialize:e=>({user:e.user,accessToken:e.accessToken,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated,currentSiteId:e.currentSiteId})}))},1695:function(e,t,n){"use strict";var r=n(1219);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},4452:function(e,t,n){"use strict";function r(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var r;let u=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(u):u(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}n.d(t,{FL:function(){return r},tJ:function(){return i}});let u=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>u(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>u(t)(e)}}},i=(e,t)=>(n,i,a)=>{let s,l={storage:r(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=0,d=new Set,f=new Set,m=l.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...e)},i,a);let h=()=>{let e=l.partialize({...i()});return m.setItem(l.name,{state:e,version:l.version})},g=a.setState;a.setState=(e,t)=>(g(e,t),h());let v=e((...e)=>(n(...e),h()),i,a);a.getInitialState=()=>v;let S=()=>{var e,t;if(!m)return;let r=++c;o=!1,d.forEach(e=>{var t;return e(null!=(t=i())?t:v)});let a=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=i())?e:v))||void 0;return u(m.getItem.bind(m))(l.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(r!==c)return;let[u,a]=e;if(n(s=l.merge(a,null!=(t=i())?t:v),!0),u)return h()}).then(()=>{r===c&&(null==a||a(s,void 0),s=i(),o=!0,f.forEach(e=>e(s)))}).catch(e=>{r===c&&(null==a||a(void 0,e))})};return a.persist={setOptions:e=>{l={...l,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>S(),hasHydrated:()=>o,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(f.add(e),()=>{f.delete(e)})},l.skipHydration||S(),s||v}},8321:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(7653);let u=e=>{let t;let n=new Set,r=(e,r)=>{let u="function"==typeof e?e(t):e;if(!Object.is(u,t)){let e=t;t=(null!=r?r:"object"!=typeof u||null===u)?u:Object.assign({},t,u),n.forEach(n=>n(t,e))}},u=()=>t,i={setState:r,getState:u,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,u,i);return i},i=e=>e?u(e):u,a=e=>e,s=e=>{let t=i(e),n=e=>(function(e,t=a){let n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},l=e=>e?s(e):s}},function(e){e.O(0,[293,456,744],function(){return e(e.s=6356)}),_N_E=e.O()}]);