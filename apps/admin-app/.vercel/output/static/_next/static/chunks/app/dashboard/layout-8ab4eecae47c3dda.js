(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{9632:function(e,t,r){Promise.resolve().then(r.bind(r,1212))},1212:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return O}});var n=r(7573),s=r(7653),i=r(1695),o=r(8146),a=r(3071),l=r(6673),u=r(3989),c=r(6221),d=r(2596),f=r(2898),E=r(4823),b=r(3809),p=r(6438),N=r(269),g=r(5729),v=r(9147),x=r(2384),m=r(8144);let R=[{href:"/dashboard",label:"대시보드",icon:a.Z},{href:"/posts",label:"제보 관리",icon:l.Z},{href:"/members",label:"회원 관리",icon:u.Z},{href:"/points",label:"포인트 관리",icon:c.Z},{href:"/actions",label:"조치 현황",icon:d.Z},{href:"/announcements",label:"공지사항",icon:f.Z},{href:"/settings",label:"설정",icon:E.Z},{href:"/audit",label:"감사 로그",icon:b.Z}];function h(){let e=(0,i.usePathname)(),[t,r]=(0,s.useState)(!1),a=(0,m.t)(e=>e.logout);return(0,n.jsxs)("aside",{className:(0,v.cn)("flex flex-col bg-slate-900 text-white transition-all duration-300",t?"w-16":"w-64"),children:[(0,n.jsxs)("div",{className:"flex h-16 items-center justify-between border-b border-slate-700 px-4",children:[!t&&(0,n.jsx)("span",{className:"text-lg font-bold",children:"안전지갑 관리자"}),(0,n.jsx)(x.zx,{variant:"ghost",size:"icon",onClick:()=>r(!t),className:"text-white hover:bg-slate-800",children:t?(0,n.jsx)(p.Z,{size:20}):(0,n.jsx)(N.Z,{size:20})})]}),(0,n.jsx)("nav",{className:"flex-1 space-y-1 p-2",children:R.map(r=>{var s;let i=null!==(s=null==e?void 0:e.startsWith(r.href))&&void 0!==s&&s,a=r.icon;return(0,n.jsxs)(o.default,{href:r.href,className:(0,v.cn)("flex items-center gap-3 rounded-lg px-3 py-2 transition-colors",i?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[(0,n.jsx)(a,{size:20}),!t&&(0,n.jsx)("span",{children:r.label})]},r.href)})}),(0,n.jsx)("div",{className:"border-t border-slate-700 p-2",children:(0,n.jsxs)(x.zx,{variant:"ghost",className:(0,v.cn)("w-full justify-start gap-3 text-slate-300 hover:bg-slate-800 hover:text-white",t&&"justify-center"),onClick:a,children:[(0,n.jsx)(g.Z,{size:20}),!t&&(0,n.jsx)("span",{children:"로그아웃"})]})})]})}function O(e){let{children:t}=e,r=(0,i.useRouter)(),{user:o,isAdmin:a}=(0,m.t)();return((0,s.useEffect)(()=>{o&&a||r.push("/login")},[o,a,r]),o&&a)?(0,n.jsxs)("div",{className:"flex h-screen",children:[(0,n.jsx)(h,{}),(0,n.jsx)("main",{className:"flex-1 overflow-auto bg-slate-50 p-6",children:t})]}):null}},9147:function(e,t,r){"use strict";r.d(t,{cn:function(){return n.cn}});var n=r(2384)},8144:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(8321),s=r(4452),i=r(3212);let o=(0,n.U)()((0,s.tJ)((e,t)=>({user:null,tokens:null,currentSiteId:null,isAdmin:!1,login:(t,r)=>e({user:t,tokens:r,isAdmin:t.role===i.UserRole.SITE_ADMIN||t.role===i.UserRole.SUPER_ADMIN}),logout:()=>e({user:null,tokens:null,currentSiteId:null,isAdmin:!1}),setTokens:t=>e({tokens:t}),setSiteId:t=>e({currentSiteId:t})}),{name:"safetywallet-admin-auth"}))},5363:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8658:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8536:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6183:function(e,t,r){"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},s=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(4602),t),s(r(3700),t),s(r(6668),t),s(r(5769),t),s(r(2232),t),s(r(1098),t),s(r(8658),t),s(r(8536),t)},1098:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5769:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2232:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6668:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3700:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9633:function(e,t){"use strict";var r,n,s,i,o,a,l,u,c,d,f,E,b,p,N,g,v,x,m,R;Object.defineProperty(t,"__esModule",{value:!0}),t.RejectReason=t.TaskStatus=t.ReviewAction=t.ActionStatus=t.ReviewStatus=t.Visibility=t.RiskLevel=t.Category=t.MembershipStatus=t.UserRole=void 0,(f=r||(t.UserRole=r={})).WORKER="WORKER",f.SITE_ADMIN="SITE_ADMIN",f.SUPER_ADMIN="SUPER_ADMIN",f.SYSTEM="SYSTEM",(E=n||(t.MembershipStatus=n={})).PENDING="PENDING",E.ACTIVE="ACTIVE",E.LEFT="LEFT",E.REMOVED="REMOVED",(b=s||(t.Category=s={})).HAZARD="HAZARD",b.UNSAFE_BEHAVIOR="UNSAFE_BEHAVIOR",b.INCONVENIENCE="INCONVENIENCE",b.SUGGESTION="SUGGESTION",b.BEST_PRACTICE="BEST_PRACTICE",(p=i||(t.RiskLevel=i={})).HIGH="HIGH",p.MEDIUM="MEDIUM",p.LOW="LOW",(N=o||(t.Visibility=o={})).WORKER_PUBLIC="WORKER_PUBLIC",N.ADMIN_ONLY="ADMIN_ONLY",(g=a||(t.ReviewStatus=a={})).RECEIVED="RECEIVED",g.IN_REVIEW="IN_REVIEW",g.NEED_INFO="NEED_INFO",g.APPROVED="APPROVED",g.REJECTED="REJECTED",(v=l||(t.ActionStatus=l={})).NONE="NONE",v.REQUIRED="REQUIRED",v.ASSIGNED="ASSIGNED",v.IN_PROGRESS="IN_PROGRESS",v.DONE="DONE",v.REOPENED="REOPENED",(x=u||(t.ReviewAction=u={})).APPROVE="APPROVE",x.REJECT="REJECT",x.REQUEST_MORE="REQUEST_MORE",x.MARK_URGENT="MARK_URGENT",x.ASSIGN="ASSIGN",x.CLOSE="CLOSE",(m=c||(t.TaskStatus=c={})).OPEN="OPEN",m.IN_PROGRESS="IN_PROGRESS",m.DONE="DONE",(R=d||(t.RejectReason=d={})).DUPLICATE="DUPLICATE",R.UNCLEAR_PHOTO="UNCLEAR_PHOTO",R.INSUFFICIENT="INSUFFICIENT",R.FALSE="FALSE",R.IRRELEVANT="IRRELEVANT",R.OTHER="OTHER"},3212:function(e,t,r){"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},s=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(9633),t),s(r(5363),t),s(r(6183),t)},2384:function(e,t,r){"use strict";r.d(t,{Ct:function(){return b},zx:function(){return c},Zb:function(){return d},II:function(){return f},Od:function(){return p},cn:function(){return i}});var n=r(607),s=r(5579);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}var o=r(7573),a=r(7653),l=r(9289);let u=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:n,size:s,...a}=e;return(0,o.jsx)("button",{className:i(u({variant:n,size:s,className:r})),ref:t,...a})});c.displayName="Button";let d=a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});d.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",r),...n})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("h3",{ref:t,className:i("text-2xl font-semibold leading-none tracking-tight",r),...n})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("p",{ref:t,className:i("text-sm text-muted-foreground",r),...n})}).displayName="CardDescription",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:i("p-6 pt-0",r),...n})}).displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter";let f=a.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,o.jsx)("input",{type:n,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});f.displayName="Input";let E=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground",warning:"border-transparent bg-warning text-warning-foreground",info:"border-transparent bg-blue-500 text-white",neutral:"border-transparent bg-gray-500 text-white"}},defaultVariants:{variant:"default"}});function b(e){let{className:t,variant:r,...n}=e;return(0,o.jsx)("div",{className:i(E({variant:r}),t),...n})}function p(e){let{className:t,...r}=e;return(0,o.jsx)("div",{className:i("animate-pulse rounded-md bg-muted",t),...r})}a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("span",{ref:t,className:i("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...n})}).displayName="Avatar",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("img",{ref:t,className:i("aspect-square h-full w-full",r),...n})}).displayName="AvatarImage",a.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,o.jsx)("span",{ref:t,className:i("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...n})}).displayName="AvatarFallback"}},function(e){e.O(0,[113,298,293,456,744],function(){return e(e.s=9632)}),_N_E=e.O()}]);